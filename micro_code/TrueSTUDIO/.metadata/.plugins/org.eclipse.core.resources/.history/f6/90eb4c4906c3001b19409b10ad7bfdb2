/*
 * hal_wrapper.c
 *
 *  Created on: May 31, 2021
 *      Author: James Williams
 */

//Definitions for the pins
#include "main.h"
#include "hal_wrapper.h"

void set_left_attenuation(u8 val)
{
	//Set each bit one at a time by selecting the relevant bit in val
	HAL_GPIO_WritePin(V5L_Pin, V5L_GPIO_Port, val & (1<<4) ? 1 : 0);
	HAL_GPIO_WritePin(V4L_Pin, V4L_GPIO_Port, val & (1<<3) ? 1 : 0);
	HAL_GPIO_WritePin(V3L_Pin, V3L_GPIO_Port, val & (1<<2) ? 1 : 0);
	HAL_GPIO_WritePin(V2L_Pin, V2L_GPIO_Port, val & (1<<1) ? 1 : 0);
	HAL_GPIO_WritePin(V1L_Pin, V1L_GPIO_Port, val & (1<<0) ? 1 : 0);
}

void set_right_attenuation(u8 val)
{
	HAL_GPIO_WritePin(V5R_Pin, V5R_GPIO_Port, val & (1<<4) ? 1 : 0);
	HAL_GPIO_WritePin(V4R_Pin, V4R_GPIO_Port, val & (1<<3) ? 1 : 0);
	HAL_GPIO_WritePin(V3R_Pin, V3R_GPIO_Port, val & (1<<2) ? 1 : 0);
	HAL_GPIO_WritePin(V2R_Pin, V2R_GPIO_Port, val & (1<<1) ? 1 : 0);
	HAL_GPIO_WritePin(V1R_Pin, V1R_GPIO_Port, val & (1<<0) ? 1 : 0);
}

//5-bit gain setting for differential amplifier
void set_diff_gain(u8 val)
{

}

//Enables or disables output amplifier
void set_amp_enable(u8 val)
{

}

//If sel = 0, get ADC0 else ADC1
u16 read_adc(u8 sel)
{

}







